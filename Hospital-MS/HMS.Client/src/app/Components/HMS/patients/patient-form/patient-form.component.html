<main id="add-inpatient">
    <p-toast position="top-left"></p-toast>
    <div class="container-fluid">
        <app-breadcrumb [TitleList]="TitleList"></app-breadcrumb>
        <div class="card search-patient p-2 col-6 m-auto text-center mb-3">
            <h5 class="text-center">ุจุญุซ ุนู ูุฑูุถ ููุฌูุฏ</h5>
            <div class="col-6 m-auto mt-2">
                <div class="input-group">
                    <input type="search" class="form-control shadow-none" placeholder="ุงุจุญุซ ุจุฑูู ุงููุงุชู ูุชุนุจุฆุฉ ุงูุจูุงูุงุช ุชููุงุฆููุง .." (input)="searchPatientByPhone($event)" maxlength="11" />
                    <span class="input-group-text">
            <svg width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85a1.007 1.007 0 0 0-.115-.098zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
          </span>
                </div>
            </div>
        </div>
        <form [formGroup]="patientForm" class="form p-2" (ngSubmit)="onSubmit()">
            <div class="inputs-wrapper border rounded bg-white mb-3">
                <div class="card-header border-bottom bg-gray d-flex align-items-center justify-content-between hh-50">
                    <h5 class="mb-0 fw-bold">
                        <span>๐คุจูุงูุงุช ุงููุฑูุถ</span>
                    </h5>
                </div>
                <div class="inputs-sec-content px-3 py-2">
                        <div class="row gy-3">
                            <div class="col-lg-3">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุงุณู ุงููุฑูุถ
                                  <span class="text-danger">*</span>
                                </label>
                                    <input type="text" class="form-control shadow-none" formControlName="patientName" placeholder="ุฃุฏุฎู ุฅุณู ุงููุฑูุถ" autocomplete="off" />
                                    <div *ngIf="patientForm.get('patientName')?.invalid && patientForm.get('patientName')?.touched" class="text-danger">
                                        ุงุณู ุงููุฑูุถ ูุทููุจ
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุงูุฑูู ุงููููู
                                  <span class="text-danger">*</span>
                                </label>
                                    <input type="text" class="form-control shadow-none" formControlName="patientNationalId" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููููู" autocomplete="off" />
                                    <div *ngIf="patientForm.get('patientNationalId')?.invalid && patientForm.get('patientNationalId')?.touched" class="text-danger">
                                        <ng-container *ngIf="patientForm.get('patientNationalId')?.errors?.['required']">ุงูุฑูู ุงููููู ูุทููุจ</ng-container>
                                        <ng-container *ngIf="patientForm.get('patientNationalId')?.errors?.['pattern']">ุงูุฑูู ุงููููู ูุฌุจ ุฃู ูููู 14 ุฑูููุง</ng-container>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุชุงุฑูุฎ ุงููููุงุฏ
                                  <span class="text-danger">*</span>
                                </label>
                                    <input type="date" class="form-control shadow-none" formControlName="patientBirthDate" autocomplete="off" />
                                    <div *ngIf="patientForm.get('patientBirthDate')?.hasError('required') && patientForm.get('patientBirthDate')?.touched" class="text-danger">
                                        ุชุงุฑูุฎ ุงููููุงุฏ ูุทููุจ
                                    </div>
                                    <div *ngIf="patientForm.get('patientBirthDate')?.hasError('minDate') && patientForm.get('patientBirthDate')?.touched" class="text-danger">
                                        ุชุงุฑูุฎ ุงููููุงุฏ ูุฌุจ ุฃูุง ูููู ูุจู ุนุงู 1920
                                    </div>
                                    <div *ngIf="patientForm.get('patientBirthDate')?.hasError('maxDate') && patientForm.get('patientBirthDate')?.touched" class="text-danger">
                                        ุชุงุฑูุฎ ุงููููุงุฏ ูุฌุจ ุฃู ูููู ุตุญูุญ
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุงูููุน
                                  <span class="text-danger">*</span>
                                </label>
                                    <!-- <app-general-selector [data]="Genders" formControlName="patientGender"></app-general-selector> -->
                                    <select class="form-select shadow-none" formControlName="patientGender">
                                        <option selected disabled value="">ุงุฎุชุฑ ุงูููุน</option>
                                        <option *ngFor="let gender of Genders" [value]="gender.value">{{gender.name}}</option>
                                    </select>
                                    <div *ngIf="patientForm.get('patientGender')?.invalid && patientForm.get('patientGender')?.touched" class="text-danger">
                                        ุงูููุน ูุทููุจ
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงููุงุชู 
                                  <span class="text-danger">*</span>
                                </label>
                                    <input type="text" class="form-control shadow-none" formControlName="patientPhone" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู" autocomplete="off" />
                                    <div *ngIf="patientForm.get('patientPhone')?.invalid && patientForm.get('patientPhone')?.touched" class="text-danger">
                                        <ng-container *ngIf="patientForm.get('patientPhone')?.errors?.['required']">ุฑูู ุงููุงุชู ูุทููุจ</ng-container>
                                        <ng-container *ngIf="patientForm.get('patientPhone')?.errors?.['pattern']">ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ</ng-container>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ูุญู ุงูุฅูุงูุฉ
                                  <span class="text-danger">*</span>
                                </label>
                                    <input type="text" class="form-control shadow-none" formControlName="patientAddress" placeholder="ุฃุฏุฎู ูุญู ุงูุฅูุงูุฉ" autocomplete="off" />
                                    <div *ngIf="patientForm.get('patientAddress')?.invalid && patientForm.get('patientAddress')?.touched" class="text-danger">
                                        ูุญู ุงูุฅูุงูุฉ ูุทููุจ
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="mb-2">
                                    <label class="form-label d-flex align-items-center gap-2">ุงูุญุงูุฉ
                                  <span class="text-danger">*</span>
                                </label>
                                    <!-- <app-general-selector [data]="PatientStatus" formControlName="patientStatus"></app-general-selector> -->
                                    <select class="form-select shadow-none" formControlName="patientStatus">
                                        <option selected disabled value="">ุงุฎุชุฑ ุงูุญุงูุฉ</option>
                                        <option *ngFor="let status of PatientStatus" [value]="status.value">{{status.name}}</option>
                                    </select>
                                    <div *ngIf="patientForm.get('patientStatus')?.invalid && patientForm.get('patientStatus')?.touched" class="text-danger">
                                        ุงูุญุงูุฉ ูุทููุจุฉ
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
            <h4 class="mt-4 mb-3">๐ฅุจูุงูุงุช ุงูุฃูุงูุฉ</h4>
      <div class="row mb-3">
        <div class="col-lg-4">
          <label for="admissionDate" class="form-label">ุชุงุฑูุฎ ุงูุฏุฎูู</label>
          <input type="date" id="admissionDate" class="form-control shadow-none" value="{{currentDate}}" disabled />
        </div>
        <div class="col-lg-4">
          <label for="departmentId" class="form-label">ุงููุณู</label>
          <select id="departmentId" class="form-select shadow-none" formControlName="departmentId" (change)="onDepartmentChange()">
            <option selected disabled value="">ุงุฎุชุฑ ุงููุณู</option>
            <option *ngFor="let department of departments" [value]="department.id">{{department.name}}</option>
          </select>
          <div *ngIf="patientForm.get('departmentId')?.invalid && patientForm.get('departmentId')?.touched" class="text-danger">
            ุงููุณู ูุทููุจ
          </div>
        </div>
        <div class="col-lg-4">
          <label for="doctorId" class="form-label">ุงูุทุจูุจ ุงููุณุคูู</label>
          <select id="doctorId" class="form-select shadow-none" formControlName="doctorId">
            <option selected disabled value="">ุงุฎุชุฑ ุงูุทุจูุจ ุงููุณุฆูู</option>
            <option *ngFor="let doctor of filteredDoctors" [value]="doctor.id">{{doctor.fullName}}</option>
          </select>
          <div *ngIf="patientForm.get('doctorId')?.invalid && patientForm.get('doctorId')?.touched" class="text-danger">
            ุงูุทุจูุจ ุงููุณุคูู ูุทููุจ
          </div>
        </div>
        <div class="col-lg-4">
          <label for="roomType" class="form-label">ููุน ุงูุบุฑูุฉ</label>
          <select id="roomType" class="form-select shadow-none" formControlName="roomType" (change)="onRoomTypeChange()">
            <option selected disabled value="">ุงุฎุชุฑ ุงูููุน</option>
            <option value="Shared">ุนุงุฏูุฉ</option>
            <option value="Private">ููุฏููุฉ</option>
          </select>
          <div *ngIf="patientForm.get('roomType')?.invalid && patientForm.get('roomType')?.touched" class="text-danger">
            ููุน ุงูุบุฑูุฉ ูุทููุจ
          </div>
        </div>
        <div class="col-lg-4">
          <label for="roomId" class="form-label">ุฑูู ุงูุบุฑูุฉ</label>
          <select id="roomId" class="form-select shadow-none" formControlName="roomId" (change)="onRoomChange()">
            <option selected disabled value="">ุงุฎุชุฑ ุงูุบุฑูุฉ</option>
            <option *ngFor="let room of filteredRooms" [value]="room.id">{{room.number}}</option>
          </select>
          <div *ngIf="patientForm.get('roomId')?.invalid && patientForm.get('roomId')?.touched" class="text-danger">
            ุฑูู ุงูุบุฑูุฉ ูุทููุจ
          </div>
        </div>
        <div class="col-lg-4">
          <label for="bedId" class="form-label">ุฑูู ุงูุณุฑูุฑ</label>
          <select id="bedId" class="form-select shadow-none" formControlName="bedId">
            <option selected disabled value="">ุงุฎุชุฑ ุงูุณุฑูุฑ</option>
            <option *ngFor="let bed of filteratedBeds" [value]="bed.id">{{bed.number}}</option>
          </select>
          <div *ngIf="patientForm.get('bedId')?.invalid && patientForm.get('bedId')?.touched" class="text-danger">
            ุฑูู ุงูุณุฑูุฑ ูุทููุจ
          </div>
        </div>
        <div class="col-lg-12 text-center mt-3" *ngIf="selectedDailyPrice">
          <h5>ุชูููุฉ ุงูุฅูุงูุฉ ุจุงูููู : <span> {{selectedDailyPrice}} ุฌููู</span></h5>
        </div>
      </div>
            <div class="inputs-wrapper border rounded bg-white mb-3">
                <div class="card-header border-bottom bg-gray d-flex align-items-center justify-content-between hh-50">
                    <h5 class="mb-0 fw-bold">
                        <span>๐ูุงุฆูุฉ ุงูุงุชุตุงู</span>
                    </h5>
                </div>
                <div class="inputs-sec-content px-3 py-2">
                    <div class="row gy-3">
                        <div class="col-lg-5">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุงูุฅุณู 1
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="emergencyContact01" placeholder="ุฃุฏุฎู ุงูุฅุณู 1" autocomplete="off" />
                                <div *ngIf="patientForm.get('emergencyContact01')?.invalid && patientForm.get('emergencyContact01')?.touched" class="text-danger">
                                    ุงูุฅุณู 1 ูุทููุจ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงููุงุชู 1
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="emergencyPhone01" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู 1" autocomplete="off" />
                                <div *ngIf="patientForm.get('emergencyPhone01')?.invalid && patientForm.get('emergencyPhone01')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('emergencyPhone01')?.errors?.['required']">ุฑูู ุงููุงุชู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('emergencyPhone01')?.errors?.['pattern']">ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ</ng-container>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="col-lg-2 mt-30">
                            <button class="btn btn-primary d-flex align-items-center gap-2 border rounded px-3" (click)="addSecondContact()" [disabled]="showSecondContact">
                                <i class="fas fa-plus-circle"></i>
                                <span>ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู</span>
                            </button>
                            <br>
                            <button class="btn btn-danger d-flex align-items-center gap-2 border rounded px-3" (click)="removeSecondContact()" *ngIf="showSecondContact">
                                <i class="fas fa-plus-circle"></i>
                                <span>ุญุฐู ุฌูุฉ ุงุชุตุงู</span>
                            </button>
                        </div> -->
                        <!-- <div class="col-lg-5" *ngIf="showSecondContact">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุงูุฅุณู 2
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="emergencyContact02" placeholder="ุฃุฏุฎู ุงูุฅุณู 2" autocomplete="off" />
                                <div *ngIf="patientForm.get('emergencyContact02')?.invalid && patientForm.get('emergencyContact02')?.touched" class="text-danger">
                                    ุงูุฅุณู 2 ูุทููุจ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-5" *ngIf="showSecondContact">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงููุงุชู 2
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="emergencyPhone02" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู 2" autocomplete="off" />
                                <div *ngIf="patientForm.get('emergencyPhone02')?.invalid && patientForm.get('emergencyPhone02')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('emergencyPhone02')?.errors?.['required']">ุฑูู ุงููุงุชู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('emergencyPhone02')?.errors?.['pattern']">ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ</ng-container>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>

            <!-- <div class="inputs-wrapper border rounded bg-white mb-3">
                <div class="card-header border-bottom bg-gray d-flex align-items-center justify-content-between hh-50">
                    <h5 class="mb-0 fw-bold">
                        <span>๐ก๏ธุจูุงูุงุช ุงูุชุฃููู</span>
                    </h5>
                </div>
                <div class="inputs-sec-content px-3 py-2">
                    <div class="row gy-3">
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุดุฑูุฉ ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <app-general-selector [data]="insuranceCompanies" formControlName="insuranceCompanyId"></app-general-selector>
                                <div *ngIf="patientForm.get('insuranceCompanyId')?.invalid && patientForm.get('insuranceCompanyId')?.touched" class="text-danger">
                                    ุดุฑูุฉ ุงูุชุฃููู ูุทููุจุฉ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ูุฆุฉ ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <app-general-selector [data]="insuranceCategories" formControlName="insuranceCategoryId"></app-general-selector>
                                <div *ngIf="patientForm.get('insuranceCategoryId')?.invalid && patientForm.get('insuranceCategoryId')?.touched" class="text-danger">
                                    ูุฆุฉ ุงูุชุฃููู ูุทููุจุฉ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="insuranceNumber" placeholder="ุฃุฏุฎู ุฑูู ุงูุชุฃููู" autocomplete="off" />
                                <div *ngIf="patientForm.get('insuranceNumber')?.invalid && patientForm.get('insuranceNumber')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('insuranceNumber')?.errors?.['required']">ุฑูู ุงูุชุฃููู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('insuranceNumber')?.errors?.['pattern']">ุฑูู ุงูุชุฃููู ูุฌุจ ุฃู ูููู ุฃุฑูุงููุง ููุท</ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->

            <div class="inputs-wrapper border rounded bg-white mb-3">
                <div class="card-header border-bottom bg-gray d-flex align-items-center justify-content-between hh-50 px-3">
                    <h5 class="mb-0 fw-bold">
                        <span>๐ุจูุงูุงุช ุฅุถุงููุฉ</span>
                    </h5>
                    <button class="btn-blue" (click)="toggleAdditionalInfo()">
                        {{ showAdditionalInfo ? 'ุฅุฎูุงุก' : 'ุฅุธูุงุฑ' }}
                    </button>
                </div>
                <div class="inputs-sec-content px-3 py-2" *ngIf="showAdditionalInfo">
                    <div class="row gy-3">
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุดุฑูุฉ ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <!-- <app-general-selector [data]="insuranceCompanies" formControlName="insuranceCompanyId"></app-general-selector> -->
                                 <select class="form-select shadow-none" formControlName="insuranceCompanyId">
                                    <option selected disabled value="">ุงุฎุชุฑ ุงูุดุฑูุฉ</option>
                                    <option *ngFor="let company of insuranceCompaniesData" [value]="company.id">{{company.name}}</option>
                                </select>
                                <div *ngIf="patientForm.get('insuranceCompanyId')?.invalid && patientForm.get('insuranceCompanyId')?.touched" class="text-danger">
                                    ุดุฑูุฉ ุงูุชุฃููู ูุทููุจุฉ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ูุฆุฉ ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <!-- <app-general-selector [data]="insuranceCategories" formControlName="insuranceCategoryId"></app-general-selector> -->
                                 <select class="form-select shadow-none" formControlName="insuranceCategoryId">
                                    <option selected disabled value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
                                    <option *ngFor="let category of insuranceCategories" [value]="category.id">{{category.name}}</option>
                                </select>
                                <div *ngIf="patientForm.get('insuranceCategoryId')?.invalid && patientForm.get('insuranceCategoryId')?.touched" class="text-danger">
                                    ูุฆุฉ ุงูุชุฃููู ูุทููุจุฉ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงูุชุฃููู
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="insuranceNumber" placeholder="ุฃุฏุฎู ุฑูู ุงูุชุฃููู" autocomplete="off" />
                                <div *ngIf="patientForm.get('insuranceNumber')?.invalid && patientForm.get('insuranceNumber')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('insuranceNumber')?.errors?.['required']">ุฑูู ุงูุชุฃููู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('insuranceNumber')?.errors?.['pattern']">ุฑูู ุงูุชุฃููู ูุฌุจ ุฃู ูููู ุฃุฑูุงููุง ููุท</ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row gy-3">
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุงูุญุงูุฉ ุงูุตุญูุฉ ุงูุญุงููุฉ
                                      <span class="text-danger">*</span>
                                    </label>
                                <!-- <app-general-selector [data]="PatientHealthStatus" formControlName="healthStatus"></app-general-selector> -->
                                 <select class="form-select shadow-none" formControlName="healthStatus">
                                    <option selected disabled value="">ุงุฎุชุฑ ุงูุญุงูุฉ</option>
                                    <option *ngFor="let status of PatientHealthStatus" [value]="status.value">{{status.name}}</option>
                                </select>
                                <!-- <div *ngIf="patientForm.get('healthStatus')?.invalid && patientForm.get('healthStatus')?.touched" class="text-danger">
                                    ุงูุญุงูุฉ ุงูุตุญูุฉ ูุทููุจุฉ
                                </div> -->
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุชุดุฎูุต ูุจุฏุฆู
                                      <span class="text-danger">*</span>
                                    </label>
                                <textarea type="text" class="form-control shadow-none" formControlName="initialDiagnosis" placeholder="ุฃุฏุฎู ุชุดุฎูุต ูุจุฏุฆู" autocomplete="off" rows="1"></textarea>
                                <!-- <div *ngIf="patientForm.get('initialDiagnosis')?.invalid && patientForm.get('initialDiagnosis')?.touched" class="text-danger">
                                    ุงูุชุดุฎูุต ุงููุจุฏุฆู ูุทููุจ
                                </div> -->
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ููุงุญุธุงุช ุนูุฏ ุงูุฏุฎูู
                                      <span class="text-danger">*</span>
                                    </label>
                                <textarea type="text" class="form-control shadow-none" formControlName="initialDiagnosis" placeholder="ุฃุฏุฎู ููุงุญุธุงุช ุนูุฏ ุงูุฏุฎูู" autocomplete="off" rows="1"></textarea>
                            </div>
                        </div>
                        <div class="col-lg-12 mt-3">
                            <label class="form-label d-block">ูู ูู ูุฑุงููุ</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="hasCompanionYes" [value]="true" formControlName="hasCompanion" />
                                <label class="form-check-label" for="hasCompanionYes">ูุนู</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="hasCompanionNo" [value]="false" formControlName="hasCompanion" />
                                <label class="form-check-label" for="hasCompanionNo">ูุง</label>
                            </div>
                            <div *ngIf="patientForm.get('hasCompanion')?.invalid && patientForm.get('hasCompanion')?.touched" class="text-danger">
                                ุงุฎุชูุงุฑ ุงููุฑุงูู ูุทููุจ
                            </div>
                        </div>
                        <div class="col-lg-4 mt-3" *ngIf="patientForm.get('hasCompanion')?.value === true">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุงุณู ุงููุฑุงูู
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="companionName" placeholder="ุฃุฏุฎู ุงุณู ุงููุฑุงูู" autocomplete="off" />
                                <div *ngIf="patientForm.get('companionName')?.invalid && patientForm.get('companionName')?.touched" class="text-danger">
                                    ุงุณู ุงููุฑุงูู ูุทููุจ
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 mt-3" *ngIf="patientForm.get('hasCompanion')?.value === true">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุงูุฑูู ุงููููู ูููุฑุงูู
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="companionNationalId" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููููู ูููุฑุงูู" autocomplete="off" />
                                <div *ngIf="patientForm.get('companionNationalId')?.invalid && patientForm.get('companionNationalId')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('companionNationalId')?.errors?.['required']">ุงูุฑูู ุงููููู ูููุฑุงูู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('companionNationalId')?.errors?.['pattern']">ุงูุฑูู ุงููููู ูุฌุจ ุฃู ูููู 14 ุฑูููุง</ng-container>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 mt-3" *ngIf="patientForm.get('hasCompanion')?.value === true">
                            <div class="mb-2">
                                <label class="form-label d-flex align-items-center gap-2">ุฑูู ุงููุงุชู
                                      <span class="text-danger">*</span>
                                    </label>
                                <input type="text" class="form-control shadow-none" formControlName="companionPhone" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู" autocomplete="off" />
                                <div *ngIf="patientForm.get('companionPhone')?.invalid && patientForm.get('companionPhone')?.touched" class="text-danger">
                                    <ng-container *ngIf="patientForm.get('companionPhone')?.errors?.['required']">ุฑูู ุงููุงุชู ูุทููุจ</ng-container>
                                    <ng-container *ngIf="patientForm.get('companionPhone')?.errors?.['pattern']">ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ</ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-center justify-content-center">
                <button type="submit" class="btn btn-success d-flex align-items-center justify-content-center gap-2 me-2">
                    <i class="uil uil-save fs-3"></i>
                    <span>ุฅุถุงูุฉ</span>
                </button>
                <button type="reset" class="btn btn-danger d-flex align-items-center gap-2">
                    <i class="uil uil-times-circle fs-3"></i>
                    <span>ุฅูุบุงุก</span>
                </button>
            </div>
        </form>
    </div>
</main>