<app-breadcrumb [TitleList]="TitleList"></app-breadcrumb>
<div class="row mb-3">
    <div class="col-lg-2" *ngFor="let status of patientStatuses">
        <div class="card text-white p-3 text-center" (click)="ApplyCardFilter(status)" [ngStyle]="{ 'background-image': status.color }" style="cursor: pointer">
            <h4>{{ status.name }}</h4>
            <p class="mt-0">{{ status.count }} Ù…Ø±ÙŠØ¶</p>
            <div class="percentage d-flex align-items-center justify-content-center gap-1">
                <p class="m-0">12%</p>
                <i class="fa-regular fa-circle-arrow-up"></i>
            </div>
            <img src="{{status.img}}" class="vector" alt="">
        </div>
    </div>
</div>
<div class="table-card border radius-10 overflow-hidden shadow-sm">
    <div class="align-items-center border-bottom d-flex flex-wrap justify-content-between p-3 table-card-title bg-light">
        <div class="col-md-8 mb-2">
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-success d-flex align-items-center gap-2 border rounded px-3" routerLink="/hms/patients/add">
                    <i class="fas fa-plus-circle"></i>
                    <span>Ø¥Ø¶Ø§ÙØ© Ù…Ø±ÙŠØ¶</span>
                </button>
                <button class="btn btn-success d-flex align-items-center gap-2 border rounded px-3" (click)="isFilter = !isFilter" [attr.aria-expanded]="!isFilter">
                    <i class="uil uil-filter"></i>
                    <span class="navbar-brand m-0">{{ isFilter ? 'Ø¹Ø±Ø¶' : 'Ø§Ø®ÙØ§Ø¡' }} Ø§Ù„ÙÙ„Ø§ØªØ±</span>
                </button>
            </div>
        </div>
        <div class="col-md-4 mb-2" *ngIf="pagedResponseModel.totalCount > 0">
            <app-pagination (pageChanged)="onPageChange($event)" [currentPage]="pagingFilterModel.currentPage" [pageSize]="pagingFilterModel.pageSize" [totalCount]="pagedResponseModel.totalCount"></app-pagination>
        </div>
        <div class="col-md-12 mt-3" #collapse="ngbCollapse" [(ngbCollapse)]="isFilter">
            <div class="d-flex align-items-center">
                <ng-container>
                    <app-filters [filterData]="patientStatuses" [filterPlaceholder]="'Ø§Ù„Ø­Ø§Ù„Ø©'" [searchPlaceholder]="'Ø£Ø¯Ø®Ù„ Ø¥Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ...'" [categoryName]="'Status'" (filterChanged)="filterChecked($event)"></app-filters>
                </ng-container>
            </div>
        </div>
    </div>
    <div class="p-3 bg-white">
        <div class="table-responsive shadow-sm radius-10">
            <table class="table table-card-table table-borderless table-hover bg-transparent m-0">
                <thead>
                    <tr>
                        <th>Ø§Ù„Ø§Ø³Ù…</th>
                        <th>Ø§Ù„Ø¹Ù…Ø±</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„Ø±Ù‚Ù…</th>
                        <!-- <th>Ø¹Ù…Ù„ÙŠØ§Øª</th> -->
                    </tr>
                </thead>
                <tbody>
                    <ng-container>
                        <tr *ngFor="let patient of patients" (click)="openDetailsSidePanel(DetailsSidePanel,patient)" class="cursor-pointer">
                            <!-- <td><input type="checkbox" class="big-checkbox"></td> -->
                            <!-- <td>
                                <img src="{{item.image}}" class="table-image">
                            </td> -->
                            <td>
                                <div class="d-flex align-items-center gap-2 justify-content-start">
                                    <div class="avatar-circle">{{ patient.patientName.charAt(0) }}</div>
                                    <span class="fw-bold">{{ patient.patientName }}</span>
                                </div>
                            </td>
                            <td class="text-secondary fw-semibold">{{ patient.dateOfBirth | age }} Ø³Ù†Ø©</td>
                            <td>
                                <p class="text-white status-pill" *ngIf="patient.patientStatus" [ngStyle]="{ backgroundColor: getStatusColor(patient.patientStatus) }">
                                    {{ patient.patientStatus }}
                                </p>
                            </td>
                            <td>
                                {{ patient.patientId }}
                            </td>
                            <!-- <td>
                                <div class="w-100 d-flex align-items-center justify-content-center">
                                    <button class="button-table-action btn-edit d-flex align-items-center justify-content-center gap-2 me-2">
                                        <i class="uil uil-pen"></i>
                                        <span>ØªØ¹Ø¯ÙŠÙ„</span>
                                    </button>
                                    <button class="button-table-action btn-delete d-flex align-items-center justify-content-center gap-2">
                                    <i class="uil uil-trash-alt"></i>
                                    <span>Ø­Ø°Ù</span>
                                </button>
                                </div>
                            </td> -->
                        </tr>
                        <tr *ngIf="!patients?.length">
                            <td colspan="12" class="text-right">
                                <app-empty-data [showEmptyData]="!patients?.length"></app-empty-data>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </div>
</div>

<ng-template #DetailsSidePanel let-offcanvas>
    <div class="offcanvas-header justify-content-between gap-3 fs-4 border-bottom py-3">
        <div class="d-flex align-items-center gap-2">
            <i class="fas fa-info-circle offcanvas-header-icon"></i>
            <span>
                Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ÙŠØ¶ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ - {{admissionDetails?.patientName}}
            </span>
        </div>
        <div class="cursor-pointer text-danger fs-2" (click)="offcanvas.dismiss()">
            <i class="uil uil-times-circle"></i>
        </div>
    </div>
    <div class="offcanvas-body pt-4 bg-light">
        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ÙŠØ¶</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ø§Ø³Ù…</td>
                            <td class="table-value">
                                {{ admissionDetails?.patientName || '---' }}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø·Ø¨ÙŠ</td>
                            <td class="table-value">
                                {{ admissionDetails?.patientId || '---' }}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ù†ÙˆØ¹</td>
                            <td class="table-value">
                                {{ admissionDetails?.patientGender || '---' }}
                            </td>
                        </tr>

                        <tr>
                            <td class="table-feature">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</td>
                            <td class="table-value">
                                {{admissionDetails?.dateOfBirth | date:'yyyy-MM-dd'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ù‡Ø§ØªÙ</td>
                            <td class="table-value">
                                {{admissionDetails?.phone || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ø¨Ù„Ø¯</td>
                            <td class="table-value">
                                {{admissionDetails?.address || 'Ù…ØµØ± - Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ¥Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯Ø®ÙˆÙ„</td>
                            <td class="table-value">
                                {{admissionDetails?.admissionDate | date:'yyyy-MM-dd'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ù‚Ø³Ù…</td>
                            <td class="table-value">
                                {{admissionDetails?.departmentName || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ø·Ø¨ÙŠØ¨</td>
                            <td class="table-value">
                                {{admissionDetails?.doctorName || '---'}}
                            </td>
                        </tr>

                        <tr>
                            <td class="table-feature">Ø§Ù„ØºØ±ÙØ©</td>
                            <td class="table-value">
                                {{admissionDetails?.roomNumber || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø§Ù„Ø³Ø±ÙŠØ±</td>
                            <td class="table-value">
                                {{admissionDetails?.bedNumber || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ©</td>
                            <td class="table-value">
                                {{admissionDetails?.roomType || '---'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="inputs-wrapper border rounded bg-white mb-3" *ngIf="admissionDetails?.insurance">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ›¡Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ù…ÙŠÙ†</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">Ø´Ø±ÙƒØ© Ø§Ù„ØªØ£Ù…ÙŠÙ†</td>
                            <td class="table-value">
                                {{admissionDetails?.insurance?.companyName}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">ÙØ¦Ø© Ø§Ù„ØªØ£Ù…ÙŠÙ†</td>
                            <td class="table-value">
                                {{admissionDetails?.insurance?.planType}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø±Ù‚Ù… Ø§Ù„ØªØ£Ù…ÙŠÙ†</td>
                            <td class="table-value">
                                {{admissionDetails?.insurance?.insuranceNumber}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ“Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">Ø§Ø³Ù… Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„</td>
                            <td class="table-value">
                                {{admissionDetails?.emergencyContact01}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</td>
                            <td class="table-value">
                                {{admissionDetails?.emergencyPhone01}}
                            </td>
                        </tr>
                        <tr *ngIf="admissionDetails?.emergencyContact02">
                            <td class="table-feature">Ø§Ø³Ù… Ø¬Ù‡Ø© Ø§Ù„Ø§ØªØµØ§Ù„</td>
                            <td class="table-value">
                                {{admissionDetails?.emergencyContact02}}
                            </td>
                        </tr>
                        <tr *ngIf="admissionDetails?.emergencyContact02">
                            <td class="table-feature">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</td>
                            <td class="table-value">
                                {{admissionDetails?.emergencyPhone02}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ“‹Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</td>
                            <td class="table-value">
                                {{admissionDetails?.createdOn | date:'yyyy-MM-dd'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø£Ù…Ø±Ø§Ø¶ Ù…Ø²Ù…Ù†Ø©</td>
                            <td class="table-value">
                                {{admissionDetails?.chronicDiseases || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø¹Ù…Ù„ÙŠØ§Øª Ø³Ø§Ø¨Ù‚Ø©</td>
                            <td class="table-value">
                                {{admissionDetails?.previousSurgeries || '---'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ“‹Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø±ÙŠØ¹Ø©</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered table-feature-value align-middle border m-0">
                    <tbody>
                        <tr>
                            <td class="table-feature">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</td>
                            <td class="table-value">
                                {{admissionDetails?.invoicesCount || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø¢Ø®Ø± ÙØ§ØªÙˆØ±Ø© Ù…Ù†Ø´Ø£Ø©</td>
                            <td class="table-value">
                                {{admissionDetails?.lastInvoiceDate || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©</td>
                            <td class="table-value">
                                {{admissionDetails?.invoicesCount || '---'}}
                            </td>
                        </tr>
                        <tr>
                            <td class="table-feature">Ø¢Ø®Ø± Ø¹Ù…Ù„ÙŠØ© Ø¯ÙØ¹</td>
                            <td class="table-value">
                                {{admissionDetails?.lastPaymentDate || '---'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="offcanvas-footer">
        <div class="row">
            <div class="col-2">
                <button class="btn col-12 btn-outline-info" (click)="openPatientUpdateStatusModal(PatientUpdateStatusModal)">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©</button>
            </div>
            <div class="col-2">
                <button class="btn col-12 btn-outline-info" (click)="openPatientMedicalHistoryModal(PatientMedicalHistoryModal)">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨ÙŠ</button>
            </div>
            <div class="col-2">
                <button class="btn col-12 btn-outline-primary">ØªØ±ØªÙŠØ¨ Ù…ÙˆØ§Ø¹ÙŠØ¯</button>
            </div>
            <div class="col-2">
                <button class="btn col-12 btn-outline-success">Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©</button>
            </div>
            <div class="col-2">
                <button class="btn col-12 btn-outline-warning">Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙÙˆØ¹Ø§Øª</button>
            </div>
            <div class="col-2">
                <button class="btn col-12 btn-outline-secondary">ÙƒØ´Ù Ø­Ø³Ø§Ø¨</button>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #PatientUpdateStatusModal let-modal>
    <div class="modal-header modal-header-bg justify-content-between">
        <h2 class="d-flex align-items-center gap-2">
            <i class="uil uil-edit"></i>
            <span>ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø±ÙŠØ¶</span>
        </h2>
        <div class="cursor-pointer text-danger fs-2" (click)="modal.dismiss()">
            <i class="uil uil-times-circle"></i>
        </div>
    </div>
    <div class="modal-body">
        <form [formGroup]="statusForm" autocomplete="off">
            <table class="table table-bordered table-feature-value align-middle border m-0">
                <tbody>
                    <tr>
                        <td class="table-feature">Ø§Ù„Ø§Ø³Ù…</td>
                        <td class="table-value">
                            {{ admissionDetails.patientName }}
                        </td>
                    </tr>
                    <tr>
                        <td class="table-feature">Ø±Ù‚Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</td>
                        <td class="table-value">
                            {{ admissionDetails.patientId }}
                        </td>
                    </tr>
                    <tr>
                        <td class="table-feature">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</td>
                        <td class="table-value">
                            {{ admissionDetails?.patientStatus }}
                        </td>
                    </tr>
                    <tr>
                        <td class="table-feature">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</td>
                        <td class="table-value">
                            <div class="form-floating">
                                <app-drop-down-form-control [data]="patientStatuses" [placeholder]="'Ø§Ù„Ø­Ø§Ù„Ø©'" formControlName="newStatus"></app-drop-down-form-control>
                            </div>
                            <div *ngIf="statusForm.controls['newStatus']?.invalid && (statusForm.controls['newStatus']?.dirty || statusForm.controls['newStatus']?.touched)" class="error-message">
                                <span *ngIf="statusForm.controls['newStatus'].errors?.['required']">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø­Ø§Ù„Ø©</span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-feature">Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</td>
                        <td class="table-value">
                            <textarea id="newNote" class="form-control" rows="3" formControlName="notes"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
    <div class="modal-footer flex-nowrap gap-2">
        <button type="button" class="btn btn-success d-flex align-items-center justify-content-center gap-2 w-100" [disabled]="statusForm.invalid" (click)="updateStatus()">
            <i class="uil uil-save fs-3"></i>
            <span>Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</span>
        </button>
        <button type="button" class="btn btn-danger d-flex align-items-center gap-2" (click)="modal.close()">
            <i class="uil uil-times-circle fs-3"></i>
            <span>Ø§Ù„ØºØ§Ø¡</span>
        </button>
    </div>
</ng-template>

<ng-template #PatientMedicalHistoryModal let-modal>
    <div class="modal-header modal-header-bg justify-content-between">
        <h2 class="d-flex align-items-center gap-2">
            <i class="uil uil-folder-info"></i>
            <span>Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ</span>
        </h2>
        <div class="cursor-pointer text-danger fs-2" (click)="modal.dismiss()">
            <i class="uil uil-times-circle"></i>
        </div>
    </div>
    <div class="modal-body">
        <table class="table table-bordered table-feature-value align-middle border m-0 mb-3">
            <tbody>
                <tr>
                    <td class="table-feature">Ø§Ù„Ø§Ø³Ù…</td>
                    <td class="table-value">
                        {{ admissionDetails.patientName }}
                    </td>
                </tr>
                <tr>
                    <td class="table-feature">Ø§Ù„Ù‡Ø§ØªÙ</td>
                    <td class="table-value">
                        {{ admissionDetails?.phone }}
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ›ï¸ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered text-center table-actions m-0">
                    <thead>
                        <tr>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                            <th>Ø§Ù„Ø·Ø¨ÙŠØ¨</th>
                            <th>Ø§Ù„ØºØ±ÙØ©</th>
                            <th>Ø§Ù„Ø³Ø±ÙŠØ±</th>
                            <th>Ø§Ù„Ù‚Ø³Ù…</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let history of medicalHistory?.admissions">
                            <td>{{ history.admissionDate | date : 'yyyy-MM-dd' }}</td>
                            <td>{{ history.doctorName }}</td>
                            <td>{{ history.roomNumber }}</td>
                            <td>{{ history.bedNumber }}</td>
                            <td>{{ history.departmentName }}</td>
                            <td>{{ mapStatusToArabic(history.patientStatus) }}</td>
                        </tr>
                        <tr *ngIf="!medicalHistory?.admissions?.length">
                            <td colspan="6" class="text-right">
                                <app-empty-data [showEmptyData]="!medicalHistory?.admissions?.length"></app-empty-data>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="inputs-wrapper border rounded bg-white mb-3">
            <div class="inputs-sec-title fw-semibold fs-16 px-3 py-2 border-bottom">ğŸ“… Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©</div>
            <div class="inputs-sec-content table-responsive small-scroll">
                <table class="table table-bordered text-center table-actions m-0">
                    <thead>
                        <tr>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                            <th>Ø§Ù„Ø·Ø¨ÙŠØ¨</th>
                            <th>Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ø¨ÙŠØ©</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø§Ù„Ù†ÙˆØ¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let history of medicalHistory?.appointments">
                            <td>{{ history.appointmentDate | date : 'yyyy-MM-dd' }}</td>
                            <td>{{ history.doctorName }}</td>
                            <td>{{ history.medicalServiceName }}</td>
                            <td>{{ mapTypeToArabic(history.type) }}</td>
                            <td [ngClass]="{
                    'text-warning': history.status === 'Pending',
                    'text-success': history.status === 'Completed',
                    'text-danger': history.status === 'Cancelled'
                  }">
                                {{ mapStatusToArabic(history.status) }}
                            </td>
                        </tr>
                        <tr *ngIf="!medicalHistory?.appointments?.length">
                            <td colspan="6" class="text-right">
                                <app-empty-data [showEmptyData]="!medicalHistory?.appointments?.length"></app-empty-data>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</ng-template>